<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="l10n_ec_view_partner_form" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="priority" eval="1" />
        <field name="arch" type="xml">
            <form string="Partners">
                <div
                    class="alert alert-warning oe_edit_only"
                    role="alert"
                    name="warning_tax"
                    invisible="not same_vat_partner_id"
                >
                A partner with the same <span>
                    <field name="vat_label" />
                </span> already exists (<field
                    name="same_vat_partner_id"
                    context="{'show_address': False, 'show_vat': False}"
                />), are you sure you want to create a new one?
            </div>
                <div
                    class="alert alert-warning oe_edit_only"
                    role="alert"
                    name="warning_company"
                    invisible="not same_company_registry_partner_id"
                >
                A partner with the same <span>
                    <field name="company_registry_label" />
                </span> already exists (<field
                    name="same_company_registry_partner_id"
                    context="{'show_address': False, 'show_vat': False}"
                />), are you sure you want to create a new one?
            </div>
                <sheet>
                    <div class="oe_button_box" name="button_box" />
                    <widget
                        name="web_ribbon"
                        title="Archived"
                        bg_color="text-bg-danger"
                        invisible="active"
                    />
                    <div class="oe_title mb24">
                        <field
                            name="company_type"
                            widget="radio"
                            options="{'horizontal': true}"
                            invisible="1"
                        />
                        <field
                            name="l10n_latam_identification_type_id"
                            options="{'no_open': True, 'no_create': True}"
                            placeholder="Type"
                            class="oe_inline"
                            domain="country_id and ['|', ('country_id', '=', False), ('country_id', '=', country_id)] or []"
                            required="True"
                            readonly="parent_id"
                            default_focus="1"
                        />
                        <field
                            name="vat"
                            placeholder="Identificaci贸n"
                            class="oe_inline"
                            readonly="parent_id"
                        />

                        <field
                            id="company"
                            options="{'line_breaks': False}"
                            widget="text"
                            class="text-break"
                            name="name"
                            placeholder="Raz贸n Social"
                            invisible="not is_company"
                            required="type == 'contact'"
                        />
                        <field
                            id="individual"
                            options="{'line_breaks': False}"
                            widget="text"
                            class="text-break"
                            name="name"
                            placeholder="Raz贸n Social"
                            invisible="is_company"
                            required="type == 'contact'"
                        />
                    </div>

                    <group>
                        <group>
                            <span
                                class="o_form_label o_td_label o_address_type"
                                name="address_name"
                            >
                                <field
                                    name="type"
                                    invisible="is_company"
                                    readonly="user_ids"
                                    required="not is_company"
                                    class="fw-bold"
                                />
                                <span invisible="not is_company">Address</span>
                            </span>
                            <div class="o_address_format">
                                <field
                                    name="street"
                                    placeholder="Direcci贸n"
                                    class="o_address_street"
                                    readonly="type == 'contact' and parent_id"
                                />

                                <field
                                    name="state_id"
                                    class="o_address_state"
                                    placeholder="Provincia"
                                    options="{'no_open': True, 'no_quick_create': True}"
                                    readonly="type == 'contact' and parent_id"
                                    context="{'country_id': country_id, 'default_country_id': country_id, 'zip': zip}"
                                />
                                <field
                                    name="city"
                                    placeholder="Ciudad"
                                    class="o_address_city"
                                    readonly="type == 'contact' and parent_id"
                                />

                                <div
                                    name="partner_address_country"
                                    class="d-flex justify-content-between"
                                    invisible="1"
                                >
                                    <field
                                        name="country_id"
                                        placeholder="Country"
                                        class="o_address_country"
                                        options='{"no_open": True, "no_create": True}'
                                        readonly="type == 'contact' and parent_id"
                                    />
                                </div>
                            </div>
                        </group>
                        <group>
                            <field name="phone" widget="phone" />
                            <field
                                name="email"
                                widget="email"
                                context="{'gravatar_image': True}"
                                required="user_ids"
                            />
                        </group>
                    </group>

                    <notebook colspan="4">
                        <page name='internal_notes' string="Internal Notes">
                            <field name="comment" placeholder="Internal notes..." />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="l10n_ec_res_partner_action_edit_pos" model="ir.actions.act_window">
        <field name="name">Edit Partner</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="view_id" ref="l10n_ec_view_partner_form" />
    </record>
</odoo>
